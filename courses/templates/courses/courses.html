{% extends 'courses/base.html' %}
{% block content %}
<h2>Our Courses</h2>
<div class="row">
  {% for course in courses %}
  <div class="col-md-6 my-3">
    <div class="card h-100">
      <div class="card-body">
        <h5>{{ course.title }} <small class="text-muted">({{ course.code }})</small></h5>
        <p>{{ course.description|truncatewords:30 }}</p>
        <p><strong>Level:</strong> {{ course.get_level_display }} · <strong>Duration:</strong> {{ course.duration_weeks }} weeks</p>
        <p><strong>Price:</strong> ₹{{ course.price }}</p>
      </div>
      <div class="card-footer bg-white">
        {% if user.is_authenticated %}
          <a class="btn btn-outline-primary" href="{% url 'courses:select_course' course.id %}">Select course</a>
        {% else %}
          <a class="btn btn-primary" href="{% url 'courses:register' %}">Register to select</a>
        {% endif %}
      </div>
    </div>
  </div>
  {% empty %}
  <p>No courses available yet.</p>
  {% endfor %}
</div>
{% endblock %}
