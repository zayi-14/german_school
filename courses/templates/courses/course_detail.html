{% extends 'courses/base.html' %}
{% load static %}

{% block title %}{{ course.title }} · Fluss Deutsch{% endblock %}

{% block content %}

<!-- HERO -->
<section class="relative bg-gradient-to-r from-indigo-700 to-sky-600 text-white py-20">
  <div class="absolute inset-0 opacity-20">
    <img src="{% static 'courses/images/berlin-bg.png' %}" class="w-full h-full object-cover">
  </div>

  <div class="relative max-w-5xl mx-auto px-6">
    <span class="inline-block px-4 py-1 bg-white/20 rounded-full text-sm mb-4">
      {{ course.get_level_display }}
    </span>

    <h1 class="text-4xl md:text-5xl font-extrabold">{{ course.title }}</h1>

    <p class="mt-4 max-w-2xl text-slate-100 text-lg">
      A structured {{ course.level }} German course designed to help you achieve real fluency with expert guidance.
    </p>
  </div>
</section>

<!-- MAIN CONTENT -->
<section class="py-16">
  <div class="max-w-5xl mx-auto px-6 grid md:grid-cols-3 gap-12">

    <!-- LEFT -->
    <div class="md:col-span-2 space-y-8">
      <div class="bg-white p-6 rounded-xl shadow">
        <h2 class="text-2xl font-bold mb-3">About this Course</h2>
        <p class="text-slate-600 leading-relaxed">
          {{ course.description }}
        </p>
      </div>

      <div class="bg-white p-6 rounded-xl shadow">
        <h3 class="text-xl font-semibold mb-3">What You Will Learn</h3>

        <ul class="space-y-3 text-slate-700">
          <li class="flex gap-3">
            <span class="text-green-500 text-xl">✔</span>
            Grammar, vocabulary & speaking confidence
          </li>
          <li class="flex gap-3">
            <span class="text-green-500 text-xl">✔</span>
            Practice exercises, mock tests & assignments
          </li>
          <li class="flex gap-3">
            <span class="text-green-500 text-xl">✔</span>
            Real-life conversations & listening skills
          </li>
          <li class="flex gap-3">
            <span class="text-green-500 text-xl">✔</span>
            Preparation for Goethe & TELC exams
          </li>
        </ul>
      </div>
    </div>

    <!-- RIGHT SIDEBAR -->
    <div class="space-y-6">
      <div class="bg-white p-6 rounded-xl shadow">
        <h3 class="text-xl font-bold mb-4">Course Overview</h3>

        <div class="space-y-2 text-slate-700">
          <p><strong>Level:</strong> {{ course.get_level_display }}</p>
          <p><strong>Duration:</strong> {{ course.duration_weeks }} weeks</p>
          <p><strong>Price:</strong> ₹{{ course.price }}</p>
        </div>

        <div class="mt-6">
          {% if user.is_authenticated %}
            {% if is_enrolled %}
              <button class="w-full py-3 bg-gray-100 text-gray-500 rounded" disabled>
                Already Enrolled
              </button>
            {% else %}
              <a href="{% url 'courses:select_course' course.id %}" 
                 class="w-full block text-center py-3 bg-indigo-600 text-white rounded hover:bg-indigo-700 shadow">
                Enroll Now
              </a>
            {% endif %}
          {% else %}
            <a href="{% url 'courses:register' %}"
               class="w-full block text-center py-3 bg-indigo-600 text-white rounded hover:bg-indigo-700 shadow">
              Register to Enroll
            </a>
          {% endif %}
        </div>
      </div>
    </div>

  </div>
</section>

{% endblock %}
